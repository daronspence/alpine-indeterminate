(()=>{var A=function(f){f.directive("indeterminate",(e,{expression:c},{Alpine:_,effect:o,evaluateLater:l,cleanup:k,evaluate:p})=>{let s=_.closestDataStack(e).find(t=>t.hasOwnProperty(c)).$el,r=`input[type="checkbox"][x-model="${c}"]`,x=e.hasAttribute("x-model"),a=()=>{let t=s.querySelectorAll(r);s.querySelectorAll(r+":checked").length<t.length?t.forEach(n=>{let i=n._x_model?.get()??[];i.includes(n.value)||i.push(n.value)}):(t[0]._x_model.set([]),e._x_model?.set(!1),setTimeout(()=>{e.dataset.indeterminate=!1,e.dataset.checked=!1,e.indeterminate=!1,e.checked=!1},0))};function g(t){let d=s.querySelectorAll(r);if(t.length===0){e.dataset.indeterminate=!1,e.dataset.checked=!1,e.indeterminate=!1,e.checked=!1;return}if(t.length===d.length){setTimeout(()=>{e.dataset.indeterminate=!1,e.dataset.checked=!0,e.indeterminate=!1,e.checked=!0,e._x_model?.set(!0)},0);return}e._x_model?.set(!1),e.dataset.indeterminate=!0,e.dataset.checked=!1,e.indeterminate=!0,e.checked=!1}let m=l(c);if(x){let t=e.getAttribute("x-model");e._x_indeterminate_previousVal=Boolean(p(t));let d=l(t);o(()=>{d(n=>{m(i=>{let u=s.querySelectorAll(r);if(n===e._x_indeterminate_previousVal){e._x_indeterminate_previousVal=n;return}if(e._x_indeterminate_previousVal=n,i.length===u.length&&!n){a();return}if(n&&u.length!==i.length){a();return}})})})}else e.addEventListener("click",a),k(()=>{e.removeEventListener("click",a)});o(()=>{m(t=>{g(t)})})})},h=A;document.addEventListener("alpine:init",()=>{window.Alpine.plugin(h)});})();
